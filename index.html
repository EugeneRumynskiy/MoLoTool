<!DOCTYPE html>
<html lang="en">
<head>
    <!-- favicon --->
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->


    <title>Sequence Motif Location Tool (MoLoTool)</title>


    <!--jQuery -->
    <script src="externalLibs/jQuery/jquery.min.js"></script>
    <link rel="stylesheet" href="externalLibs/jQuery/jquery-ui.css">
    <script src="externalLibs/jQuery/jquery-ui.min.js"></script>
    <!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    -->


    <!--Data tables -->
    <link rel="stylesheet" type="text/css" href="externalLibs/myDataTables/jquery.dataTables.min.css"/>
    <script type="text/javascript" src="externalLibs/myDataTables/jquery.dataTables.min.js"></script>

    <!--<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.13/css/jquery.dataTables.min.css"/>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>-->


    <!--Data tables (buttons) -->
    <link rel="stylesheet" type="text/css" href="externalLibs/DataTablesButtons/buttons.dataTables.min.css"/>
    <script type="text/javascript" src="externalLibs/DataTablesButtons/dataTables.buttons.min.js"></script>
    <!--Data tables (buttons)
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.2.4/css/buttons.dataTables.min.css"/>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.2.4/js/dataTables.buttons.min.js"></script>-->


    <!--Data tables (buttons) -->
    <script type="text/javascript" src="externalLibs/DataTablesButtons/buttons.colVis.min.js"></script>
    <script type="text/javascript" src="externalLibs/DataTablesButtons/buttons.flash.min.js"></script>
    <script type="text/javascript" src="externalLibs/DataTablesButtons/buttons.html5.min.js"></script>
    <!--Data tables (buttons)-->
    <!--<script type="text/javascript" src="https://cdn.datatables.net/buttons/1.2.4/js/buttons.colVis.min.js"></script>-->
    <!--<script type="text/javascript" src="https://cdn.datatables.net/buttons/1.2.4/js/buttons.flash.min.js"></script>-->
    <!--<script type="text/javascript" src="https://cdn.datatables.net/buttons/1.2.4/js/buttons.html5.min.js"></script>-->


    <!--Data tables (buttons) [jszip, pdfmake, vfs_fonts] alert: fonts must be after pdfmake -->
    <script type="text/javascript" src="externalLibs/DataTablesButtons/AdditionalFeatures/jszip.min.js"></script>
    <script type="text/javascript" src="externalLibs/DataTablesButtons/AdditionalFeatures/pdfmake.min.js"></script>
    <script type="text/javascript" src="externalLibs/DataTablesButtons/AdditionalFeatures/vfs_fonts.js"></script>
    <!--Data tables (buttons) [jszip, pdfmake, vfs_fonts] alert: fonts must be after pdfmake -->
    <!--<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"></script>-->
    <!--<script type="text/javascript" src="//cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js"></script>-->
    <!--<script type="text/javascript" src="//cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js"></script>-->


    <!--Color picker - Spectrum 09.07.2017 - 1.8.0-->
    <script src="externalLibs/mySpectrum/spectrum.js"></script>
    <link rel="stylesheet" type="text/css" href="externalLibs/mySpectrum/spectrum.css">
    <!--&lt;!&ndash;Color picker - Spectrum 09.07.2017 - 1.8.0&ndash;&gt;
    <script src="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.css">-->


    <!--Github icons - Octicons EXT-->
    <!--<link rel="stylesheet" href="externalLibs/octicons/octicons.min.css">-->


    <!--Google Web Fonts. EXT -->
    <link href="css/utilities/icon.css" rel="stylesheet">


    <!--noUIslider -->
    <script src="externalLibs/nouislider/nouislider.min.js"></script>
    <link rel="stylesheet" href="externalLibs/nouislider/nouislider.min.css">


    <!--clipboard copy -->
    <script src="externalLibs/clipboard_js/clipboard.min.js"></script>


    <!--Project Modules -->
    <script src="js/machinery/AppContainer.js"></script>
    <script src="js/machinery/builder/components/pSlider.js"></script>
    <script src="js/machinery/builder/components/colorPicker.js"></script>


    <script src="js/machinery/builder/components/motifTable/motifTable.js"></script>
    <script src="js/machinery/builder/components/motifTable/features.js"></script>

    <script src="js/machinery/builder/components/motifHandler/motif.js"></script>
    <script src="js/machinery/builder/components/motifHandler/sequenceConstructor.js"></script>
    <script src="js/machinery/builder/components/motifHandler/motifHandler.js"></script>

    <script src="js/machinery/builder/components/motifLibrary.js"></script>
    <script src="js/machinery/builder/components/chosenMotifHighlight.js"></script>

    <script src="js/machinery/builder/components/motifPicker/motifPicker.js"></script>
    <script src="js/machinery/builder/components/motifPicker/inputState.js"></script>

    <script src="js/machinery/builder/uiBuilder.js"></script>

    <script src="js/machinery/builder/components/uiButtons/uiButtons.js"></script>
    <script src="js/machinery/builder/components/uiButtons/inputWindowButtons/submitButton.js"></script>
    <script src="js/machinery/builder/components/uiButtons/inputWindowButtons/inputMethodButton.js"></script>
    <script src="js/machinery/builder/components/uiButtons/inputWindowButtons/showInputButton.js"></script>
    <script src="js/machinery/builder/components/uiButtons/inputWindowButtons/zoomButton.js"></script>
    <script src="js/machinery/builder/components/uiButtons/topWindowButtons/clearButton.js"></script>
    <script src="js/machinery/builder/components/uiButtons/topWindowButtons/demoButton.js"></script>
    <script src="js/machinery/builder/components/uiButtons/topWindowButtons/helpButton.js"></script>
    <script src="js/machinery/builder/components/uiButtons/topWindowButtons/showTableButton.js"></script>
    <script src="js/machinery/builder/components/uiButtons/topWindowButtons/switchComparisonModeButton.js"></script>
    <script src="js/machinery/builder/components/uiButtons/searchWindowButtons/showMoreButton.js"></script>
    <script src="js/machinery/builder/components/uiButtons/searchWindowButtons/collectionSettingsButton.js"></script>

    <script src="js/machinery/calculations/motifSearch.js"></script>
    <script src="js/machinery/calculations/motifMath.js"></script>
    <script src="js/machinery/calculations/errorHandler.js"></script>
    <script src="js/machinery/calculations/segmentation.js"></script>
    <script src="js/machinery/calculations/combinations.js"></script>

    <script src="js/machinery/builder/components/inputParsing/inputParsing.js"></script>
    <script src="js/machinery/builder/components/inputParsing/inputErrors.js"></script>
    <script src="js/machinery/builder/components/inputParsing/inputDemo.js"></script>

    <script src="js/machinery/builder/components/fileUploader.js"></script>
    <script src="js/machinery/builder/components/sequenceLibrary.js"></script>
    <script src="js/machinery/builder/components/resultTabs.js"></script>

    <script src="js/machinery/resultTabs/comparisonMode.js"></script>
    <script src="js/machinery/resultTabs/digitGuidance.js"></script>
    <script src="js/machinery/resultTabs/clipboardCopy.js"></script>


    <link rel="stylesheet" href="css/primaryComponentsSettings.css">
    <link rel="stylesheet" href="css/dataTable.css">
    <link rel="stylesheet" href="css/pSlider.css">
    <link rel="stylesheet" href="css/UIComponents.css">
    <link rel="stylesheet" href="css/resultContainer.css">
    <link rel="stylesheet" href="css/navigationTopBar.css">
    <link rel="stylesheet" href="css/controlElements.css">
</head>
<body>
<div>
    <div class="nav-area">
        <div class='nav-bar container'>
            <nav class="the-nav clearfix">
                <ul class="nav pull-left top-first">
                    <li class="search-container">
                        <i class="material-icons md-dark">search</i>
                        <input id="motif-search" placeholder="Select motif" autocomplete="off" autocorrect="off" autocapitalize="off">

                        <div class="suggestions">
                            <div id='legend-container' class="suggestion"></div>

                            <div id='motif-list'></div>

                            <div class="suggestion support-info">
                                <div class="option-values">
                                    <div class="model-collection interface-button">Core/Full</div>
                                    <div class="model-species interface-button">Mouse/Human</div>
                                </div>

                                <div id="ifMore-container" data-size="">
                                    <div class="ifMore-value">
                                        <a id= "show-more-button" class="interface-button" href="#"></a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="collection-dialog hidden">
                            <div class="option model-collection" data-class=".model-collection">
                                <div class="name">
                                    Collection:
                                </div>
                                <div class="cases">
                                    <div>
                                        <input type="radio" id="Core"
                                               name="quality" value="Core">
                                        <label for="Core">Core</label>
                                    </div>
                                    <div>
                                        <input type="radio" id="Full"
                                               name="quality" value="Full">
                                        <label for="Full">Full</label>
                                    </div>
                                </div>

                            </div>
                            <div class="option model-species" data-class=".model-species">
                                <div class="name">
                                    Species:
                                </div>
                                <div class="cases">
                                    <div>
                                        <input type="radio" id="Human"
                                        name="origin" value="Human">
                                        <label for="Human">Human</label>
                                    </div>
                                    <div>
                                        <input type="radio" id="Mouse"
                                        name="origin" value="Mouse">
                                        <label for="Mouse">Mouse</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="collection-settings">
                            <a id="collection-settings-button" class="interface-button" href="#"></a>
                        </div>
                    </li>
                    <li class="title-container">
                        MoLoTool: Transcription Factor Motif Location Toolbox
                    </li>
                </ul>
                <ul class="nav pull-right top-second">
                    <a id="change-mode-button" class="interface-button" href="#"></a>
                    <a id="open-table-button" class="interface-button" href="#"></a>
                    <a id="clear-button" class="interface-button" href="#"></a>
                    <a id="demo-button" class="interface-button" href="#"></a>
                    <a id="help-button" class="interface-button" href="#"></a>
                </ul>
            </nav>
        </div>
    </div>

    <div id='help-cmp' class="interface-component">
        <div>
            <div class="help-header">MoLoTool: Transcription Factor
                <span class="underline bold">Mo</span>tif
                <span class="underline bold">Lo</span>cation
                <span class="underline bold">Tool</span>box
            </div>
            <div class="help-content">
                <img class="emblem" src="helpImages/Emblem.png" alt="Emblem.png">
                MoLoTool is an interactive web application to scan DNA sequences for transcription factor binding sites
                (TFBS) with position weight matrices presented in HOCOMOCO model collection.
                The sequence markup is text-based and can be easily copied and pasted via clipboard to any MS-Word-type
                text editor while maintaining colored motif occurrences.
            </div>
        </div>
        <div>
            <div class="help-header">
                <a target="_blank" href="http://hocomoco.autosome.ru/help">
                    HOCOMOCO
                </a>
            </div>
            <div class="help-content">
                HOCOMOCO COmprehensive MOdel COllection (HOCOMOCO) contains Transcription Factor (TF)
                binding models for human and mouse TFs represented as classic
                <a target="_blank" href="https://en.wikipedia.org/wiki/Position_weight_matrix">
                    Position Weight Matrices
                </a>
                (PWMs, also known as Position-Specific Scoring Matrices, PSSMs)
                and precalculated score thresholds (see HOCOMOCO website for details).
            </div>
        </div>
        <div>
            <div class="help-header">Step-by-step user guide to MoLoTool</div>
            <div class="help-content">
                A basic example can be visualized using
                <span class="italic bold">Demo</span>
                button
                (<img src="helpImages/TopPannel/Demo.png" alt="Demo.png">)
                at the top right corner of the window. The example is taken from
                <a target="_blank" href="http://www.sciencedirect.com/science/article/pii/S1874939916301365">
                    Schwartz et al. 2017
                </a>
                and shows EBF1 (COE1) TF binding site present in SLAMF1 human promoter but absent in the respective orthologous mouse promoter.
                The demo visualization can be reproduced by with the step-by-step guide. To clear any changes and
                return the page to the default state please use
                <span class="italic bold">Reset</span>
                (<img src="helpImages/TopPannel/Reset.png" alt="Reset.png">).
            </div>
        </div>
        <div>
            <div class="help-header">1. Add models</div>
            <div class="help-content">
                At the first step you need to add desired binding models from HOCOMOCO to the models list.
                To perform this step, start browsing models by typing TF
                <a target="_blank" href="http://hocomoco.autosome.ru/human/mono">
                    name or family
                </a>
                in the search field
                (<img src="helpImages/Search/SearchInput.png" alt="SearchInput.png">).
                Next, click on a
                <span class="italic bold">Motif ID</span>
                (<img src="helpImages/Search/MotifID.png" alt="MotifID.png">)
                in the drop-down list. A new motif will appear below
                (<img src="helpImages/Search/Motif.png" alt="Motif.png">).
                <span class="italic bold">Note</span>
                that chosen Motif ID contains a
                <span class="italic bold">Hyperlink</span>
                to the HOCOMOCO database
                (<img src="helpImages/Search/MotifIDSelected.png" alt="MotifIDSelected.png">).
            </div>
        </div>
    </div>

    <div class="interface-area">
        <div id='motif-list-selected-cmp' class="interface-component empty">
            <div id='motif-list-selected'></div>
        </div>


        <div class="interface-component" id="sequence-input-cmp">
            <div id="error-dialog"></div>

            <div class="controls">
                <div class="sliderBox">
                    <div class="inputBox left">
                        <div class="inputUnit">
                            <label for='logSlider-input' class='label'>-log10(P-value):</label>
                            <input class='input' id="logSlider-input">
                        </div>
                        <div class="inputUnit">
                            <label for='linearSlider-input' class='label'>P-value:</label>
                            <input class='input' id="linearSlider-input">
                        </div>
                    </div>
                    <div id='log-slider' class='slider right'></div>
                </div>
            </div>
        </div>


        <div class="interface-component" id="manual-seq-input">
            <textarea spellcheck=false
                      placeholder="Insert nucleotide sequences in fasta format here."></textarea>

            <div class="input-controls">

                <div class="left">
                    <a class="interface-button add-sequence" href="#"></a>
                    <a class="interface-button upload-button" href="#">
                        <label class="custom-file-upload">
                            <input type="file" id="fileInput">
                            Upload file
                            <i class="material-icons md-dark">file_upload</i>
                        </label>
                    </a>
                    <a class="interface-button input-method" href="#"></a>
                </div>

                <div class="right">
                    <a class="interface-button open-sequence" href="#"></a>
                    <a class="interface-button zoom-button" href="#"></a>
                </div>
            </div>
                </div>


                <div class="interface-component" id="result-cmp">
                    <div id='result-tabs'></div>
                    <div id='result-sequences'>
                        <div class="patch border-patch"></div>
                        <div class="patch area-patch "></div>
                    </div>
                </div>


                <div class="interface-component" id="motif-table-cmp">
                    <table id='motif-table' class="display cell-border compact" width="100%">
                    </table>
                </div>
            </div>
</div>
</body>
</html>